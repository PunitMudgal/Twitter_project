"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[670],{1350:(e,s,l)=>{l.d(s,{A:()=>r});l(5043);const r=l.p+"static/media/next.3a68d46f6a0200381d658cdeaccd5fba.svg"},3772:(e,s,l)=>{l.d(s,{A:()=>i});var r=l(3003),t=(l(287),l(5043)),o=l(6213),a=l(5517),n=l(8529);function i(e){const s=(0,r.wA)(),[l,i]=(0,t.useState)({isLoading:!1,serverError:null});return(0,t.useEffect)((()=>{(async()=>{try{i((e=>({...e,isLoading:!0})));const{data:l,status:r}=await a.S.get(`/user/${e}`);200===r&&(i((e=>({...e,isLoading:!1}))),s((0,n.cr)(l)))}catch(l){i((e=>{var s;return{...e,isLoading:!1,serverError:o.A.isAxiosError(l)?null===(s=l.response)||void 0===s?void 0:s.data:"Unexpected Error"}}))}})()}),[e,s]),[l,i]}},6670:(e,s,l)=>{l.r(s),l.d(s,{default:()=>y});var r=l(3768),t=l(3003),o=l(5043),a=l(5394),n=l(3216),i=l(5475),c=l(1350),d=l(611),x=l(7653),u=l(2301),m=l(3772),h=l(143),f=l(8677),g=l(6348),p=l(5517),v=l(1578),j=l(6318),b=l(579);const y=function(){const{name:e,username:s,profilePicturePath:l,coverPicture:y,follower:w,following:N,isAdmin:k,createdAt:A,bio:C,from:E}=(0,t.d4)((e=>{var s;return null===(s=e.user)||void 0===s?void 0:s.friendProfile}))||{},{_id:$,following:F}=(0,t.d4)((e=>{var s;return null===(s=e.auth)||void 0===s?void 0:s.user})),{handleFollowUser:L,handleUnfollowUser:U}=(0,v.A)(),{id:S}=(0,n.g)(),{isLoading:P}=(0,m.A)(S),I=$===S,R=(0,n.Zp)(),_=(0,t.wA)(),H=(0,g.K)(),M=F.includes(S),[J,z]=(0,o.useState)([]),[D,K]=(0,o.useState)(!0),[T,Z]=(0,o.useState)(1),[q,B]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{(async e=>{K(!0);try{const{data:s}=await p.S.get(`/post/${S}/posts?page=${e}&limit=4`);1===e?(z(s.posts),B(s.hasMore)):z((e=>[...e,...s])),s.length<4&&B(!1)}catch(s){r.Ay.error("Failed to load posts")}finally{K(!1)}})(T)}),[T]),(0,o.useEffect)((()=>{z([]),Z(1),B(!0)}),[S]),(0,o.useEffect)((()=>{const e=null===H||void 0===H?void 0:H.current;e||console.log("centerRef.current is null");const s=()=>{const{scrollTop:s,scrollHeight:l,clientHeight:r}=e;console.log("scroll of center component called"),s+r>=l-5&&q&&!D&&Z((e=>e+1))};return null===e||void 0===e||e.addEventListener("scroll",s),()=>{null===e||void 0===e||e.removeEventListener("scroll",s)}}),[D,q]),P?(0,b.jsx)(h.A,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"sticky top-0 w-full bg-transparent bg-opacity-55 backdrop-blur-md h-[48px] flex font-style2 self-center text-center text-lg text-gray1 p-1 items-center gap-8",children:[(0,b.jsx)("img",{className:"invert h-10 w-auto rotate-180 p-2 hover:bg-gray-950 hover:bg-opacity-15 rounded-full",src:c.A,alt:"back",onClick:()=>R(-1)}),(0,b.jsxs)("div",{className:"text-start ",children:[(0,b.jsxs)("p",{className:"text-2xl flex items-center gap-1",children:[e," ",k&&(0,b.jsx)("img",{src:d,className:"h-4 w-auto ",alt:"purpletick"})," "]}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"114 posts"})]})]}),(0,b.jsxs)("div",{className:"flex-grow flex-1 h-full relative overflow-x-hidden",children:[(0,b.jsx)("div",{className:"bg-zinc-800 w-full h-[27%] ",children:y&&(0,b.jsx)("img",{onClick:()=>R(y&&`/${S}/photo/${encodeURIComponent(y)}`),className:"h-full w-full object-cover overflow-hidden object-center ",src:y,alt:"cover"})}),(0,b.jsx)("img",{onClick:()=>R(l&&`/${S}/photo/${encodeURIComponent(l)}`),className:"absolute top-[16%] left-4 h-36 w-36  object-cover border-4 border-gray-900 rounded-full transition-transform duration-300 ease-in-out transform hover:scale-105 hover:border-2 cursor-pointer",src:l||x,alt:"profile"}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 w-full px-5 ",children:[(0,b.jsx)("div",{className:"flex w-full justify-end items-center gap-3 pt-3",children:I?(0,b.jsx)("button",{onClick:()=>R(`/home/${S}/edit`),className:"py-2 px-4 border font-semibold rounded-3xl",children:"Edit Profile"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:u.A,onClick:()=>{return e=S,_((0,j.Fr)({currentUserId:$,friendId:e})),void R("/messenger");var e},className:"h-7 w-auto invert",alt:"msg"}),(0,b.jsx)("button",{onClick:()=>{M?U(S):L(S)},className:"py-1 px-3 border font-semibold rounded-3xl bg-gray-300 text-black",children:M?"Unfollow":"Follow"})]})}),(0,b.jsxs)("div",{className:"flex flex-wrap mt-4",children:[(0,b.jsx)("p",{className:"text-xl font-bold ",children:e}),k&&(0,b.jsxs)("span",{onDoubleClick:()=>R(`/home/${S}/admin/dashboard`),className:"border border-purple-500 rounded-3xl text-sm px-2 ml-2 flex gap-2 items-center",children:[(0,b.jsx)("img",{src:d,className:"h-4 w-4 =",alt:""}),"Admin"]}),(0,b.jsxs)("p",{className:" w-full text-xs block text-gray2 gap-1 items-center",children:["@",s]})]}),C&&(0,b.jsx)("p",{className:"max-w-3xl text-gray-300 text-sm ",children:C}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"flex items-center w-full  text-sm text-gray2 gap-1 ",children:[(0,b.jsx)(a.nih,{})," Joined ",null===A||void 0===A?void 0:A.slice(0,7)]}),E&&(0,b.jsxs)("p",{className:"flex items-center w-full  text-sm text-gray2 gap-1 ",children:[(0,b.jsx)(a.o9J,{})," ",E]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray2 ",children:[(0,b.jsxs)("p",{children:[null===N||void 0===N?void 0:N.length," ",(0,b.jsx)(i.N_,{to:`/home/${S}/follower&following`,className:"text-gray2 hover:underline",children:"Following"})]}),(0,b.jsxs)("p",{children:[null===w||void 0===w?void 0:w.length," ",(0,b.jsx)(i.N_,{to:`/home/${S}/follower&following`,className:"text-gray2 hover:underline",children:"Follower"})]})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-around w-full text-gray-400 text-center",children:[(0,b.jsx)("p",{className:"hover:bg-gray-600 hover:bg-opacity-45 flex-1 text-white underline underline-offset-8",children:"Posts"}),(0,b.jsx)("p",{className:"hover:bg-gray-600 hover:bg-opacity-45 flex-1 text-gray-400",children:"Replies"}),(0,b.jsx)("p",{className:"hover:bg-gray-600 hover:bg-opacity-45 flex-1 text-gray-400",children:"Highlight"}),(0,b.jsx)("p",{className:"hover:bg-gray-600 hover:bg-opacity-45 flex-1 text-gray-400",children:"Media"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col m-2  ",children:[D&&1===T?(0,b.jsx)(h.A,{}):null===J||void 0===J?void 0:J.map((e=>(0,b.jsx)(f.A,{...e},e._id))),D&&T>1&&(0,b.jsx)(h.A,{})]}),q&&(0,b.jsx)("p",{onClick:()=>Z((e=>e+1)),className:"text-green-400 h-10 mb-1 p-1 w-full border-y text-center border-gray-500 font-style2 cursor-pointer",children:"Load More..."})]}),(0,b.jsx)(n.sv,{})]})}}}]);
//# sourceMappingURL=670.57db01e5.chunk.js.map