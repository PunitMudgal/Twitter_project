"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[567],{1350:(e,t,a)=>{a.d(t,{A:()=>r});a(5043);const r=a.p+"static/media/next.3a68d46f6a0200381d658cdeaccd5fba.svg"},8567:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(5043),l=a(2347),s=a(3003),n=a(9618),o=a(3768),i=a(3216),c=a(5475),d=a(1350),u=a(287),p=a(7653),m=a(579);const f=function(){const e=(0,s.d4)((e=>e.auth.user)),[t,a]=(0,r.useState)(""),[f,b]=(0,r.useState)(null),[h,x]=(0,r.useState)(null),g=(0,i.Zp)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"w-full h-full bg-black bg-opacity-55 backdrop-blur-sm absolute top-0 left-0 z-20"}),(0,m.jsxs)("div",{className:"flex flex-col items-center justify-around p-3 absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[30%] rounded-md bg-transparent bg-opacity-5 backdrop-blur-md border border-purple3 md:w-[90%] box z-30",children:[(0,m.jsxs)("div",{className:"flex  items-center",children:[(0,m.jsx)("p",{className:"font-semibold text-xl text-center text-gray-300",children:"Set Profile photo"}),(0,m.jsxs)(c.N_,{to:"/home",className:"absolute inline-flex items-center right-0 hover:underline",children:["Skip ",(0,m.jsx)("img",{className:"h-5 invert w-auto",src:d.A,alt:"skip"})," "]})]}),(0,m.jsxs)(l.A,{action:"user/update",encType:"multipart/form-data",className:"flex flex-col gap-3 items-center",component:"form",onSubmit:async r=>{r.preventDefault();try{const r=new FormData;r.append("userId",e._id),t&&r.append("name",t),f&&r.append("profilePicturePath",f);const l=(0,u.TK)(r);o.oR.promise(l,{loading:"Updating Please wait...",success:"Update successful",error:"Update Error"}),l.then((()=>{a(""),b(null),x(null),g("/home")}))}catch(l){l.response&&l.response.data&&l.response.data.error?o.oR.error(l.response.data.error):o.oR.error("Registration Failed. Please try again later.")}},sx:{"& > :not(style)":{m:1,width:"35ch"},"& .MuiFilledInput-root":{color:"#f2f3f4"},"& .MuiInputLabel-filled":{color:"#aed6f1"}},noValidate:!0,autoComplete:"off",children:[(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{src:h||p,className:" w-32 h-32 border-2 object-cover border-blue2 rounded-full  hover:border-blue1",alt:"avatar"}),(0,m.jsx)("label",{htmlFor:"profile",className:"text-center cursor-pointer underline underline-offset-4",children:(null===f||void 0===f?void 0:f.name)||"Upload Photo"}),(0,m.jsx)("input",{onChange:e=>{b(e.target.files[0]),x(URL.createObjectURL(e.target.files[0]))},type:"file",name:"picture",id:"profile",style:{display:"none"}})]}),(0,m.jsx)(n.A,{name:"name",className:"authntication-input",value:t,onChange:e=>a(e.target.value),label:"Enter Your Name",variant:"filled"}),(0,m.jsx)("button",{type:"submit",className:"p-2 w-[40%] rounded-3xl bg-blue1 ",children:"Done"})]})]})]})}}}]);
//# sourceMappingURL=567.f47bbfa2.chunk.js.map