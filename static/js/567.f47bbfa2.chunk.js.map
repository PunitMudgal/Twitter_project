{"version":3,"file":"static/js/567.f47bbfa2.chunk.js","mappings":"gHAuBA,MACA,EAAe,IAA0B,wD,+JCyGzC,QAtHA,WACE,MAAMA,GAAOC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,KAAKH,QAExCI,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,OAC5BG,EAAgBC,IAAqBJ,EAAAA,EAAAA,UAAS,MAE/CK,GAAWC,EAAAA,EAAAA,MAiCjB,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EAEEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sFAGfJ,EAAAA,EAAAA,MAAA,OAAKI,UAAU,kOAAiOF,SAAA,EAC9OF,EAAAA,EAAAA,MAAA,OAAKI,UAAU,qBAAoBF,SAAA,EACjCC,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kDAAiDF,SAAC,uBAG/DF,EAAAA,EAAAA,MAACK,EAAAA,GAAI,CACHC,GAAG,QACHF,UAAU,4DAA2DF,SAAA,CACtE,SACMC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAoBG,IAAKC,EAAAA,EAAUC,IAAI,SAAU,WAGzET,EAAAA,EAAAA,MAACU,EAAAA,EAAG,CACFC,OAAO,cACPC,QAAS,sBACTR,UAAU,mCACVS,UAAU,OACVC,SAtDaC,UACnBC,EAAEC,iBACF,IACE,MAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,SAAUjC,EAAKkC,KAC3B9B,GAAM2B,EAASE,OAAO,OAAQ7B,GAC9BG,GACFwB,EAASE,OAAO,qBAAsB1B,GAGxC,MAAM4B,GAAgBC,EAAAA,EAAAA,IAAWL,GACjCM,EAAAA,GAAMC,QAAQH,EAAe,CAC3BI,QAAS,0BACTC,QAAS,oBACTC,MAAO,iBAETN,EAAcO,MAAK,KACjBrC,EAAQ,IACRG,EAAS,MACTE,EAAkB,MAClBC,EAAS,QAAQ,GAErB,CAAE,MAAO8B,GACHA,EAAME,UAAYF,EAAME,SAASC,MAAQH,EAAME,SAASC,KAAKH,MAC/DJ,EAAAA,GAAMI,MAAMA,EAAME,SAASC,KAAKH,OAEhCJ,EAAAA,GAAMI,MAAM,+CAEhB,GA2BMI,GAAI,CACF,kBAAmB,CAAEC,EAAG,EAAGC,MAAO,QAElC,yBAA0B,CACxBC,MAAO,WAGT,0BAA2B,CACzBA,MAAO,YAGXC,YAAU,EACVC,aAAa,MAAKnC,SAAA,EAElBF,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OACEI,IAAKX,GAAkB0C,EACvBlC,UAAU,iFACVK,IAAI,YAENN,EAAAA,EAAAA,KAAA,SACEoC,QAAQ,UACRnC,UAAU,0DAAyDF,UAE7D,OAALR,QAAK,IAALA,OAAK,EAALA,EAAOH,OAAQ,kBAElBY,EAAAA,EAAAA,KAAA,SACEqC,SAAWxB,IACTrB,EAASqB,EAAEyB,OAAOC,MAAM,IACxB7C,EAAkB8C,IAAIC,gBAAgB5B,EAAEyB,OAAOC,MAAM,IAAI,EAE3DG,KAAK,OACLtD,KAAK,UACLuD,GAAG,UACHC,MAAO,CAAEC,QAAS,cAGtB7C,EAAAA,EAAAA,KAAC8C,EAAAA,EAAS,CACR1D,KAAK,OACLa,UAAU,sBACV8C,MAAO3D,EACPiD,SAAWxB,GAAMxB,EAAQwB,EAAEyB,OAAOS,OAClCC,MAAM,kBACNC,QAAQ,YAEVjD,EAAAA,EAAAA,KAAA,UAAQ0C,KAAK,SAASzC,UAAU,oCAAmCF,SAAC,iBAO9E,C","sources":["assets/next.svg","authentication/RegisterProfileCard.jsx"],"sourcesContent":["var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgNext(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    id: \"Outline\",\n    viewBox: \"0 0 24 24\",\n    width: 512,\n    height: 512,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.4,9.88,10.81,5.29a1,1,0,0,0-1.41,0,1,1,0,0,0,0,1.42L14,11.29a1,1,0,0,1,0,1.42L9.4,17.29a1,1,0,0,0,1.41,1.42l4.59-4.59A3,3,0,0,0,15.4,9.88Z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgNext);\nexport default __webpack_public_path__ + \"static/media/next.3a68d46f6a0200381d658cdeaccd5fba.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport { useSelector } from \"react-redux\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport skipIcon from \"../assets/next.svg\";\r\nimport \"../style/registerProfile.css\";\r\nimport { updateUser } from \"../fetch/helper\";\r\nimport avatar from \"../assets/profile.png\";\r\n\r\nfunction RegisterProfileCard() {\r\n  const user = useSelector((state) => state.auth.user);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [previewProfile, setPreviewProfile] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"userId\", user._id);\r\n      if (name) formData.append(\"name\", name);\r\n      if (image) {\r\n        formData.append(\"profilePicturePath\", image);\r\n      }\r\n\r\n      const updatePromise = updateUser(formData);\r\n      toast.promise(updatePromise, {\r\n        loading: \"Updating Please wait...\",\r\n        success: \"Update successful\",\r\n        error: \"Update Error\",\r\n      });\r\n      updatePromise.then(() => {\r\n        setName(\"\");\r\n        setImage(null);\r\n        setPreviewProfile(null);\r\n        navigate(\"/home\");\r\n      });\r\n    } catch (error) {\r\n      if (error.response && error.response.data && error.response.data.error) {\r\n        toast.error(error.response.data.error); // Show the error message from backend\r\n      } else {\r\n        toast.error(\"Registration Failed. Please try again later.\"); // Fallback for other errors\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* background blur effect  */}\r\n      <div className=\"w-full h-full bg-black bg-opacity-55 backdrop-blur-sm absolute top-0 left-0 z-20\" />\r\n\r\n      {/* profile card */}\r\n      <div className=\"flex flex-col items-center justify-around p-3 absolute top-[40%] left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[30%] rounded-md bg-transparent bg-opacity-5 backdrop-blur-md border border-purple3 md:w-[90%] box z-30\">\r\n        <div className=\"flex  items-center\">\r\n          <p className=\"font-semibold text-xl text-center text-gray-300\">\r\n            Set Profile photo\r\n          </p>\r\n          <Link\r\n            to=\"/home\"\r\n            className=\"absolute inline-flex items-center right-0 hover:underline\"\r\n          >\r\n            Skip <img className=\"h-5 invert w-auto\" src={skipIcon} alt=\"skip\" />{\" \"}\r\n          </Link>\r\n        </div>\r\n        <Box\r\n          action=\"user/update\"\r\n          encType={\"multipart/form-data\"}\r\n          className=\"flex flex-col gap-3 items-center\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          sx={{\r\n            \"& > :not(style)\": { m: 1, width: \"35ch\" },\r\n            // Root class for the input field\r\n            \"& .MuiFilledInput-root\": {\r\n              color: \"#f2f3f4\",\r\n            },\r\n            // Class for the label of the filled input field\r\n            \"& .MuiInputLabel-filled\": {\r\n              color: \"#aed6f1\",\r\n            },\r\n          }}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n        >\r\n          <>\r\n            <img\r\n              src={previewProfile || avatar}\r\n              className=\" w-32 h-32 border-2 object-cover border-blue2 rounded-full  hover:border-blue1\"\r\n              alt=\"avatar\"\r\n            />\r\n            <label\r\n              htmlFor=\"profile\"\r\n              className=\"text-center cursor-pointer underline underline-offset-4\"\r\n            >\r\n              {image?.name || \"Upload Photo\"}\r\n            </label>\r\n            <input\r\n              onChange={(e) => {\r\n                setImage(e.target.files[0]);\r\n                setPreviewProfile(URL.createObjectURL(e.target.files[0]));\r\n              }}\r\n              type=\"file\"\r\n              name=\"picture\"\r\n              id=\"profile\"\r\n              style={{ display: \"none\" }}\r\n            />\r\n          </>\r\n          <TextField\r\n            name=\"name\"\r\n            className=\"authntication-input\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            label=\"Enter Your Name\"\r\n            variant=\"filled\"\r\n          />\r\n          <button type=\"submit\" className=\"p-2 w-[40%] rounded-3xl bg-blue1 \">\r\n            Done\r\n          </button>\r\n        </Box>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RegisterProfileCard;\r\n"],"names":["user","useSelector","state","auth","name","setName","useState","image","setImage","previewProfile","setPreviewProfile","navigate","useNavigate","_jsxs","_Fragment","children","_jsx","className","Link","to","src","skipIcon","alt","Box","action","encType","component","onSubmit","async","e","preventDefault","formData","FormData","append","_id","updatePromise","updateUser","toast","promise","loading","success","error","then","response","data","sx","m","width","color","noValidate","autoComplete","avatar","htmlFor","onChange","target","files","URL","createObjectURL","type","id","style","display","TextField","value","label","variant"],"sourceRoot":""}